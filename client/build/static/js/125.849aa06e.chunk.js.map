{"version":3,"file":"static/js/125.849aa06e.chunk.js","mappings":"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","sources":["components/Svgs/EditSvg.js","components/UserPicUploader/UserPicUploader.js","page/Profile/Profile.js"],"sourcesContent":["import React from \"react\";\r\n\r\nconst EditSvg = ({ height }) => {\r\n  return (\r\n    <svg\r\n      // xmlns=\"http://www.w3.org/2000/svg\"\r\n      // width=\"16\"\r\n      height={height}\r\n      viewBox=\"0 0 16 16\"\r\n      id=\"edit\"\r\n    >\r\n      <path\r\n        fill=\"#212121\"\r\n        d=\"M13.6568542,2.34314575 C14.4379028,3.12419433 14.4379028,4.39052429 13.6568542,5.17157288 L6.27039414,12.558033 C5.94999708,12.87843 5.54854738,13.105727 5.10896625,13.2156223 L2.81796695,13.7883721 C2.45177672,13.8799197 2.12008033,13.5482233 2.21162789,13.182033 L2.78437771,10.8910338 C2.894273,10.4514526 3.12156995,10.0500029 3.44196701,9.72960586 L10.8284271,2.34314575 C11.6094757,1.56209717 12.8758057,1.56209717 13.6568542,2.34314575 Z M10.1212441,4.46435931 L4.14907379,10.4367126 C3.95683556,10.6289509 3.82045738,10.8698207 3.75452021,11.1335694 L3.38388341,12.6161166 L4.86643062,12.2454798 C5.1301793,12.1795426 5.37104912,12.0431644 5.56328736,11.8509262 L11.5352441,5.87835931 L10.1212441,4.46435931 Z M11.5355339,3.05025253 L10.8282441,3.75735931 L12.2422441,5.17135931 L12.9497475,4.46446609 C13.3402718,4.0739418 13.3402718,3.44077682 12.9497475,3.05025253 C12.5592232,2.65972824 11.9260582,2.65972824 11.5355339,3.05025253 Z\"\r\n      ></path>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default EditSvg;\r\n","import React, { useRef, useState } from \"react\";\r\nimport EditSvg from \"../Svgs/EditSvg\";\r\nimport axios from \"axios\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { updateState } from \"../../store/slices/UserSlice\";\r\n\r\nconst UserPicUploader = ({ setTempPic }) => {\r\n  const state = useSelector((state) => {\r\n    return state.User;\r\n  });\r\n  console.log(\"ðŸš€ ~ file: UserPicUploader.js:11 ~ conststÌ¥ate=useSelector ~ stÌ¥ate:\", state)\r\n  const dispatch = useDispatch()\r\n  const inputRef = useRef(null);\r\n  //   const [File, setFile] = useState(null);\r\n\r\n  const selectfile = () => {\r\n    inputRef.current.click();\r\n  };\r\n\r\n  const postUserPic = async (e) => {\r\n    const File = e.target.files[0];\r\n    console.log(File);\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append(\"upload_pic_file\", File);\r\n\r\n      // const resData = await fetch(\"/image/getdata\");\r\n      const response = await axios.post(\"/image/uploaduserpic\", formData);\r\n      if (response.status === 200) {\r\n        // console.log(\"Upload.js\", resJson);\r\n        if (response.data.userPic) {\r\n          console.log(response.data.userPic);\r\n          \r\n          dispatch(updateState({userPic:response.data.userPic}))\r\n        }\r\n        console.log(response.data);\r\n      }\r\n      console.log(response.data.message);\r\n    } catch (error) {\r\n      console.log(\"Failed to upload\", error);\r\n    }\r\n  };\r\n  return (\r\n    <div\r\n      className=\"w-8 aspect-square z-20 rounded-full bg-gray-100 hover:bg-gray-200 grid place-content-center \"\r\n      onClick={selectfile}\r\n    >\r\n      <EditSvg height={18} />\r\n      <input\r\n        type=\"file\"\r\n        accept=\"image/*\"\r\n        name=\"upload_pic_file\"\r\n        onChange={(e) => {\r\n          //   setSelectedFile(e.target.files[0]);\r\n          //   setFile(e.target.files[0]);\r\n          postUserPic(e);\r\n          setTempPic(e.target.files[0]);\r\n        }}\r\n        hidden\r\n        ref={inputRef}\r\n        multiple={false}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserPicUploader;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"./Profile.scss\";\r\nimport axios from \"axios\";\r\nimport UserPicUploader from \"../../components/UserPicUploader/UserPicUploader\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {\r\n  updateStateSavedPosts,\r\n  updateStatePosts,\r\n} from \"../../store/slices/UserSlice\";\r\nimport ProfileImg from \"../../components/ProfileImg/ProfileImg\";\r\nimport { NavLink, Outlet } from \"react-router-dom\";\r\n\r\nconst Profile = () => {\r\n  // const [userData, setUserData] = useState(\"\");\r\n  // const [createdPosts, setCreatedPosts] = useState(\"\");\r\n  // const [savedPosts, setSavedPosts] = useState(\"\");\r\n  // const [selectedTab, setSelectedTab] = useState(\"created\");\r\n  const [tempPic, setTempPic] = useState(null);\r\n  const dispatch = useDispatch();\r\n  const { username, posts, savedPosts, userPic } = useSelector((state) => {\r\n    return state.User;\r\n  });\r\n\r\n  useEffect(() => {\r\n    const getDataFromServer = async () => {\r\n      try {\r\n        await axios\r\n          .get(\"/image/getuserposts\")\r\n          .then((res) => {\r\n            const { data } = res.data;\r\n            const { posts } = data;\r\n            console.log(\"user info from Db\", data);\r\n            dispatch(updateStatePosts(posts));\r\n            // dispatch(updateState(restUserData));\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n\r\n        // const { data } = resData.data;\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    getDataFromServer();\r\n  }, [dispatch]);\r\n  useEffect(() => {\r\n    // if (selectedTab === \"saved\") {\r\n    const getDataFromServer = async () => {\r\n      try {\r\n        // const resData = await axios.get(\"/image/getsavedposts\");\r\n        await axios\r\n          .get(\"/image/getsavedposts\")\r\n          .then((res) => {\r\n            const { data } = res.data;\r\n            // console.log(\"savedpost data form Db\", data);\r\n            dispatch(updateStateSavedPosts(data));\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    getDataFromServer();\r\n    // }\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    console.log(tempPic);\r\n  }, [tempPic]);\r\n\r\n  // useEffect(() => {\r\n  //   console.log(\"local posts\", posts);\r\n  //   console.log(\"local savedPosts\", savedPosts);\r\n  //   console.log(\"local userPic\", userPic);\r\n  //   console.log(\"local username\", username);\r\n  //   console.log(\"local state data\", state);\r\n  // }, [posts, savedPosts, state, userPic, username]);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"user_profile minus-nav-100vh\">\r\n        <div className=\"profile-header flex flex-col items-center pt-10\">\r\n          <div className=\"relative profile-pic-main mb-5\">\r\n            <div className=\"  w-32 aspect-square rounded-full overflow-hidden flex justify-center\">\r\n              {tempPic ? (\r\n                <ProfileImg src={URL.createObjectURL(tempPic)} alt=\"pic\" />\r\n              ) : (\r\n                <ProfileImg\r\n                  src={\r\n                    userPic\r\n                      ? `/pic_uploads/${userPic}`\r\n                      : require(\"../../image/icons/blank_profile.jpg\")\r\n                  }\r\n                  alt=\"pic\"\r\n                />\r\n              )}\r\n            </div>\r\n            <div className=\"absolute bottom-0 right-1\">\r\n              <UserPicUploader setTempPic={(file) => setTempPic(file)} />\r\n            </div>\r\n          </div>\r\n          <div className=\"profile-username mt-4\">\r\n            <h1 className=\" capitalize  text-4xl font-semibold\">{username}</h1>\r\n          </div>\r\n          <div className=\"profile-activity mt-2 flex flex-col gap-1 items-center\">\r\n            <div className=\"create-count\">{posts?.length} created</div>\r\n            <div className=\"saved-count \">{savedPosts?.length} saved</div>{\" \"}\r\n            {/* placeholder */}\r\n          </div>\r\n        </div>\r\n        <div className=\"profile-pins mt-8\">\r\n          <div className=\"flex flex-col items-center\">\r\n            <div className=\"categpry-selector flex\">\r\n              <NavLink to={\"saved\"}>\r\n                <h3 className={`font-semibold p-2 catgry-link relative `}>\r\n                  saved\r\n                </h3>\r\n              </NavLink>\r\n              {/* <NavLink to={\"/created\"}> */}\r\n              <NavLink to={\"created\"}>\r\n                <h3 className={`font-semibold p-2 catgry-link relative `}>\r\n                  created\r\n                </h3>\r\n              </NavLink>\r\n\r\n              {/* </NavLink> */}\r\n            </div>\r\n            <div className=\"user-posts-container mt-16\">\r\n              {/* {selectedTab === \"saved\" ? (\r\n                <UserSavedPosts savedPosts={savedPosts} />\r\n              ) : (\r\n                <UserCreatedPosts\r\n                  createdPosts={posts}\r\n                  userInfo={{ username, userPic }}\r\n                />\r\n              )} */}\r\n              <Outlet />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"],"names":["_ref","height","_jsx","viewBox","id","children","fill","d","setTempPic","state","useSelector","User","console","log","dispatch","useDispatch","inputRef","useRef","_jsxs","className","onClick","selectfile","current","click","EditSvg","type","accept","name","onChange","e","async","File","target","files","formData","FormData","append","response","axios","post","status","data","userPic","updateState","message","error","postUserPic","hidden","ref","multiple","Profile","tempPic","useState","username","posts","savedPosts","useEffect","get","then","res","updateStatePosts","catch","getDataFromServer","updateStateSavedPosts","_Fragment","ProfileImg","src","URL","createObjectURL","alt","concat","require","UserPicUploader","file","length","NavLink","to","Outlet"],"sourceRoot":""}