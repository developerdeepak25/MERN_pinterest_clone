{"version":3,"file":"static/js/103.27e04512.chunk.js","mappings":"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","sources":["components/SuspenseImg/SuspenseImg.js","components/Svgs/LeftArrow.js","components/SinglePinComponents/SaveButton.js","page/Singlepin/SinglePin.js"],"sourcesContent":["import \"./SuspenseImg.scss\";\r\n// import React, { Suspense, useEffect, useState } from \"react\";\r\n\r\n// const SuspenseImg = ({ src, height, alt }) => {\r\n//   const [loading, setloading] = useState(true);\r\n\r\n//   // <Suspense fallback={<ImgPlaceHolder height={height} />}>\r\n//   useEffect(() => {\r\n//     console.log(loading);\r\n//   },[loading])\r\n//   return loading ? (\r\n//     <ImgPlaceHolder height={height} />\r\n//   ) : (\r\n//     <img src={src} alt={alt} onLoad={() => setloading(false)} />\r\n//   );\r\n//   // </Suspense>\r\n// };\r\n\r\n// const ImgPlaceHolder = ({ height = \"100%\" }) => {\r\n//   return <div className={`bg-gray-200  h-96 w-full`}></div>;\r\n// };\r\n\r\n// export default SuspenseImg;\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\nconst SuspenseImg = ({ src, height, alt, className, fileName }) => {\r\n  const [loading, setLoading] = useState(true);\r\n  // const [imgSrc, setImgSrc] = useState(null);\r\n\r\n  const handleImageLoad = () => {\r\n    setLoading(false);\r\n  };\r\n  useEffect(() => {\r\n    console.log(loading);\r\n  }, [loading]);\r\n  // useEffect(() => {\r\n  //   const img = new Image();\r\n  //   img.src = src;\r\n  //   img.onerror = () => {\r\n  //     console.log('error  at loading img');\r\n  //     setImgSrc(null);\r\n  //   }\r\n  //   img.onload = () => {\r\n  //     setImgSrc(src);\r\n  //   };\r\n  // }, [src]);\r\n  return (\r\n    <div>\r\n      {loading && <ImgPlaceHolder height={height} />}\r\n      {/* {src !== \"/uploads/undefined\" && ( */}\r\n      {(fileName && src ) && (\r\n        <img\r\n          src={src}\r\n          alt={alt}\r\n          onLoad={handleImageLoad}\r\n          className={`${className}  ${loading ? 'h-0':'h-auto'}`}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ImgPlaceHolder = ({ height = 350 }) => {\r\n  return (\r\n    <div\r\n      className={\"  w-full shimmer-bg\"}\r\n      style={{ height: height + \"px\" }}\r\n    ></div>\r\n  );\r\n};\r\n\r\nexport default SuspenseImg;\r\n","import React from \"react\";\r\n\r\nconst LeftArrow = ({ height }) => {\r\n  return (\r\n    <svg\r\n      // width=\"512\"\r\n      height={height}\r\n      viewBox=\"0 0 512 512\"\r\n      id=\"left-arrow\"\r\n    >\r\n      <path d=\"M189.3 128.4L89 233.4c-6 5.8-9 13.7-9 22.4s3 16.5 9 22.4l100.3 105.4c11.9 12.5 31.3 12.5 43.2 0 11.9-12.5 11.9-32.7 0-45.2L184.4 288h217c16.9 0 30.6-14.3 30.6-32s-13.7-32-30.6-32h-217l48.2-50.4c11.9-12.5 11.9-32.7 0-45.2-12-12.5-31.3-12.5-43.3 0z\"></path>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default LeftArrow;\r\n","import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport toast from \"react-hot-toast\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst SaveButton = ({ pinId, savedBy }) => {\r\n  const { userId } = useSelector((state) => {\r\n    return state.Auth;\r\n  });\r\n\r\n  const [saved, setsaved] = useState(false);\r\n  const [waiting, setwaiting] = useState(false);\r\n\r\n  console.log(saved);\r\n  const onClickHandler = async () => {\r\n    try {\r\n      setwaiting(true);\r\n      if (saved) {\r\n        const resData = await axios.get(`/image/unsavepost/${pinId}`);\r\n        console.log(\r\n          \"ðŸš€ ~ file: SaveButton.js:9 ~ onClickHandler ~ resData:\",\r\n          resData\r\n        );\r\n        if (resData.status === 200) {\r\n          setsaved(false);\r\n          toast.success(\"post unsaved successfully\");\r\n        }\r\n        return;\r\n      }\r\n\r\n      const resData = await axios.get(`/image/savepost/${pinId}`);\r\n      console.log(\r\n        \"ðŸš€ ~ file: SaveButton.js:9 ~ onClickHandler ~ resData:\",\r\n        resData\r\n      );\r\n      if (resData.status === 200) {\r\n        setsaved(true);\r\n        toast.success(\"post saved successfully\");\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    } finally {\r\n      setwaiting(false);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    setsaved(savedBy && savedBy.includes(userId));\r\n    // console.log(savedBy);\r\n  }, [savedBy, userId]);\r\n\r\n  return (\r\n    <>\r\n      {/* mentioned classed are in index.scss */}\r\n      <div\r\n        className={`pin-prime-btn ${saved && \"saved\"} ${\r\n          waiting ? \"waiting\" : \"\"\r\n        }`}\r\n      >\r\n        <button onClick={onClickHandler}>{saved ? \"saved\" : \"save\"}</button>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SaveButton;\r\n","import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport LeftArrow from \"../../components/Svgs/LeftArrow\";\r\nimport \"./SinglePin.scss\";\r\nimport SaveButton from \"../../components/SinglePinComponents/SaveButton\";\r\nimport SuspenseImg from \"../../components/SuspenseImg/SuspenseImg\";\r\nimport ProfileImg from \"../../components/ProfileImg/ProfileImg\";\r\n\r\nconst SinglePin = () => {\r\n  const [postData, setPostData] = useState({});\r\n  const { image, user, imageTitle, imageDescirption, saves } = postData;\r\n  const navigate = useNavigate();\r\n\r\n  const { id } = useParams();\r\n  console.log(id);\r\n\r\n  const handleGoBack = () => {\r\n    navigate(-1);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const getDataFromServer = async () => {\r\n      try {\r\n        const resData = await axios.get(`/image/getpostdata/${id}`);\r\n        console.log(\r\n          \"ðŸš€ ~ file: Home.js:10 ~ getDataFromServer ~ resData:\",\r\n          resData\r\n        );\r\n        const { postData } = resData.data;\r\n        console.log(postData);\r\n        // setUserData(data);\r\n        setPostData(postData);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    getDataFromServer();\r\n  }, [id]);\r\n  return (\r\n    <div className=\"single-pin-container minus-nav-100vh bg-slate-50\">\r\n      {/* <h1>single pin</h1> */}\r\n\r\n      <div className=\"flex min-h-full justify-center relative \">\r\n        <div className=\"absolute go-back top-7 left-7 max-sm:hidden\">\r\n          <button\r\n            className=\"left-arrow rounded-full hover:bg-gray-200 p-2  transition\"\r\n            onClick={handleGoBack}\r\n          >\r\n            <LeftArrow height={28} />\r\n          </button>\r\n        </div>\r\n        <div className=\"pin-viewer rounded-3xl overflow-hidden bg-white  max-w-5xl flex my-14  max-sm:rounded-none max-sm:my-0 max-sm:pb-24 max-sm:flex-col max-sm:px-2 max-sm:w-full\">\r\n          <div className=\"visual-pin-container w-[512px] max-sm:w-auto \">\r\n            <SuspenseImg\r\n              className=\"w-full\"\r\n              src={`/uploads/${image}`}\r\n              fileName={image}\r\n              alt=\"post_image\"\r\n              height={500}\r\n            />\r\n          </div>\r\n\r\n          <div className=\" w-[512px] desc-container px-9 max-sm:w-auto max-sm:px-2\">\r\n            <div className=\"desc-container-header pt-9 pb-5 flex justify-end max-sm:pt-5 max-sm:justify-start\">\r\n              <SaveButton pinId={id} savedBy={saves} />\r\n            </div>\r\n\r\n            <div className=\"desc-body flex flex-col gap-8 max-sm:gap-3\">\r\n              <h1 className=\" capitalize text-4xl font-semibold max-sm:text-3xl\">\r\n                {imageTitle}\r\n              </h1>{\" \"}\r\n              <p className=\" text-xl max-sm:text-base\">{imageDescirption}</p>\r\n              {/* same as post compo creator profile but text-black , font-weight , */}\r\n              <div className=\"creator-profile flex  w-full items-center mt-auto gap-2\">\r\n                <div className=\"creator-image rounded-full w-9 aspect-square overflow-hidden opacity-80 shrink-0\">\r\n                  {user?.userPic ? (\r\n                    <ProfileImg\r\n                      src={`/pic_uploads/${user.userPic}`}\r\n                      alt={user.username}\r\n                    />\r\n                  ) : (\r\n                    <ProfileImg\r\n                      src={require(\"../../image/icons/blank_profile.jpg\")}\r\n                      alt={user?.username}\r\n                      className=\"w-full\"\r\n                    />\r\n                  )}\r\n                </div>\r\n                <div className=\"creator-name font-medium  opacity-80  capitalize whitespace-nowrap overflow-hidden text-ellipsis\">\r\n                  {user?.username}\r\n                </div>\r\n              </div>\r\n              {/*  */}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SinglePin;\r\n"],"names":["ImgPlaceHolder","_ref2","height","_jsx","className","style","_ref","src","alt","fileName","loading","setLoading","useState","useEffect","console","log","_jsxs","children","onLoad","handleImageLoad","concat","viewBox","id","d","pinId","savedBy","userId","useSelector","state","Auth","saved","setsaved","waiting","setwaiting","includes","_Fragment","onClick","async","resData","axios","get","status","toast","success","error","SinglePin","postData","setPostData","image","user","imageTitle","imageDescirption","saves","navigate","useNavigate","useParams","data","getDataFromServer","handleGoBack","LeftArrow","SuspenseImg","SaveButton","userPic","ProfileImg","username","require"],"sourceRoot":""}