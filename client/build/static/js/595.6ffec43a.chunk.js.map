{"version":3,"file":"static/js/595.6ffec43a.chunk.js","mappings":"2JAEA,MAiBA,EAjBkBA,IAAc,IAAb,MAACC,GAAMD,EACxB,OACEE,EAAAA,EAAAA,MAAA,OACED,MAAOA,EAEPE,QAAQ,YACRC,GAAG,SAAQC,SAAA,EAEXC,EAAAA,EAAAA,KAAA,QAAMC,EAAE,qJACRD,EAAAA,EAAAA,KAAA,QAAMC,EAAE,uNACRD,EAAAA,EAAAA,KAAA,QAAMC,EAAE,4OACRD,EAAAA,EAAAA,KAAA,QAAMC,EAAE,oGACRD,EAAAA,EAAAA,KAAA,QAAMC,EAAE,oGACJ,ECgFV,EA5FoBP,IAAkB,IAAjB,QAAEQ,GAASR,EAC9B,MAAMS,GAAWC,EAAAA,EAAAA,QAAO,MAClBC,GAAaD,EAAAA,EAAAA,QAAO,OACnBE,EAAcC,IAAmBC,EAAAA,EAAAA,UAAS,OAC1CC,EAAaC,IAAkBF,EAAAA,EAAAA,UAAS,MAiC/C,OACER,EAAAA,EAAAA,KAAAW,EAAAA,SAAA,CAAAZ,UACEH,EAAAA,EAAAA,MAAA,OACEgB,UAAS,sDAAAC,OACPJ,GAAeH,EAAY,MAAAO,OACjBJ,EAAW,KACjB,6BAA4B,yHAElCK,QAvCaC,KACjBZ,EAASa,QAAQC,OAAO,EAuCpBC,OA/BUC,IACdA,EAAMC,iBACN,MAAMC,EAAOF,EAAMG,aAAaC,MAAM,GAClCF,EAAKG,KAAKC,WAAW,WAEvBvB,EAAQmB,GACRd,EAAgBc,GAChBK,QAAQC,IAAI,OAAQN,KAEpBnB,EAAQ,MACRK,EAAgB,MAChBmB,QAAQC,IAAI,6BAEd,EAmBIC,WAjBcT,IAClBA,EAAMC,iBACNM,QAAQC,IAAI,WAAW,EAeI5B,SAAA,EAEvBC,EAAAA,EAAAA,KAAA,OAAKY,UAAU,wEAAuEb,SACnFO,GACCN,EAAAA,EAAAA,KAAA,OACEY,UAAU,WACViB,IAAKxB,EACLyB,IAAKC,IAAIC,gBAAgB1B,GACzB2B,IAAI,qBACJC,OA/CWC,KACrB,MAAMC,EAAS/B,EAAWW,QAAQqB,aAClC3B,EAAe0B,EAAO,KAgDdxC,EAAAA,EAAAA,MAAAe,EAAAA,SAAA,CAAAZ,SAAA,EACEC,EAAAA,EAAAA,KAACsC,EAAS,CAAC3C,MAAO,MAClBK,EAAAA,EAAAA,KAAA,MAAIY,UAAU,6DAA4Db,SAAC,gDAMhFO,IACCV,EAAAA,EAAAA,MAAA,OAAKgB,UAAU,0HAAyHb,SAAA,EACtIC,EAAAA,EAAAA,KAACsC,EAAS,CAAC3C,MAAO,MAClBK,EAAAA,EAAAA,KAAA,MAAIY,UAAU,yEAAwEb,SAAC,uBAK3FC,EAAAA,EAAAA,KAAA,SACEwB,KAAK,OACLe,OAAO,UACPC,KAAK,cACLC,SAAWC,IACTnC,EAAgBmC,EAAEC,OAAOpB,MAAM,IAC/BrB,EAAQwC,EAAEC,OAAOpB,MAAM,GAAG,EAE5BqB,QAAM,EACNf,IAAK1B,EACL0C,UAAU,QAGb,EC5EP,EAbiBnD,IAAe,IAAd,OAAC0C,GAAO1C,EACxB,OACEM,EAAAA,EAAAA,KAAAW,EAAAA,SAAA,CAAAZ,UACEC,EAAAA,EAAAA,KAAA,OAAKoC,OAAQA,EAAQvC,QAAQ,YAAYC,GAAG,QAAOC,UACjDC,EAAAA,EAAAA,KAAA,QACEC,EAAE,qKACF6C,KAAK,eAGR,E,+BCFP,MA+IA,EA/IeC,KACb,MAAO1B,EAAMnB,IAAWM,EAAAA,EAAAA,UAAS,OAC1BwC,EAAcC,IAAmBzC,EAAAA,EAAAA,UAAS,CAC/C0C,SAAU,GACVC,eAAgB,MAEXC,EAAUC,IAAe7C,EAAAA,EAAAA,YAC1B8C,GAAWC,EAAAA,EAAAA,OACVC,EAAaC,IAAkBjD,EAAAA,EAAAA,WAAS,GACzCkD,GAAYtD,EAAAA,EAAAA,UAEZuD,EAAgBjB,IACpB,MAAM,KAAEF,EAAI,MAAEoB,GAAUlB,EAAEC,OAC1BM,GAAiBY,IAAQ,IACpBA,EACH,CAACrB,GAAOoB,KACP,EA4CCxC,EAAkBD,IACtBA,EAAMC,gBAAgB,EASxB,OANA0C,EAAAA,EAAAA,YAAU,KAGRpC,QAAQC,IAAI6B,EAAY,GACvB,CAACA,KAGFxD,EAAAA,EAAAA,KAAA,OACEY,UAAU,mEACViB,IAAK6B,EACLxC,OAAQE,EACRQ,WAAYR,EAAerB,UAE3BC,EAAAA,EAAAA,KAAA,OAAKY,UAAU,6JAA4Jb,UAEzKH,EAAAA,EAAAA,MAAA,OAAKgB,UAAU,sEAAqEb,SAAA,EAClFC,EAAAA,EAAAA,KAAA,OAAKY,UAAU,eAAcb,UAC3BC,EAAAA,EAAAA,KAAC+D,EAAW,CAAC7D,QAAUI,GAAiBJ,EAAQI,QAElDV,EAAAA,EAAAA,MAAA,OAAKgB,UAAU,iFAAgFb,SAAA,EAe7FC,EAAAA,EAAAA,KAACgE,EAAAA,EAAU,CACTxB,KAAM,WACN1C,GAAI,WACJ6D,aAAcA,EACdM,MAAO,WAETrE,EAAAA,EAAAA,MAAA,SACEsE,QAAQ,UACRtD,UAAU,6CAA4Cb,SAAA,CACvD,eAECC,EAAAA,EAAAA,KAAA,YACEwB,KAAK,OACLgB,KAAK,iBACL1C,GAAG,UACHqE,KAAM,EACNvD,UAAU,wEACV6B,SAAUkB,QAGd3D,EAAAA,EAAAA,KAAA,OAAKY,UAAU,qBAAoBb,UACjCC,EAAAA,EAAAA,KAAA,UAAQoE,SAAUZ,EAAa1C,QApGrBuD,UACpB,IAEE,GADAZ,GAAe,IACVpC,EAEH,YADAgC,EAAY,yBAId,IAAKL,EAAaE,WAAaF,EAAaG,eAE1C,YADAE,EAAY,uCAGd,MAAMiB,EAAW,IAAIC,SAIrBD,EAASE,OAAO,cAAenD,GAG/BiD,EAASE,OAAO,WAAYxB,EAAaE,UACzCoB,EAASE,OAAO,iBAAkBxB,EAAaG,gBAE/C,MAAMsB,QAAiBC,EAAAA,EAAMC,KAAK,eAAgBL,GAG1B,MAApBG,EAASG,QAEXlD,QAAQC,IAAI8C,EAASI,KAAKC,SAC1BC,EAAAA,GAAMC,QAAQ,6BACd1B,EAAS,OAETyB,EAAAA,GAAME,MAAM,sDACZvD,QAAQC,IAAI8C,EAASI,KAAKC,SAE9B,CAAE,MAAOG,GACPF,EAAAA,GAAME,MAAM,+BACZvD,QAAQC,IAAI,mBAAoBsD,EAClC,CAAC,QACCxB,GAAe,EACjB,GA6DgE1D,SAAC,cAIxDqD,IACCxD,EAAAA,EAAAA,MAAA,OAAKgB,UAAU,sDAAqDb,SAAA,EAClEC,EAAAA,EAAAA,KAACkF,EAAQ,CAAC9C,OAAQ,KAAM,IAAEgB,cActC,C","sources":["components/Svgs/UploadSvg.js","components/ImgUploader/ImgUploader.js","components/Svgs/ErrorSvg.js","page/Create/Create.js"],"sourcesContent":["import React from 'react'\r\n\r\nconst UploadSvg = ({width}) => {\r\n  return (\r\n    <svg\r\n      width={width}\r\n     \r\n      viewBox=\"0 0 24 24\"\r\n      id=\"upload\"\r\n    >\r\n      <path d=\"M5 10c-.6 0-1-.4-1-1 0-3.9 3.1-7 7-7 3 0 5.7 2 6.7 4.9.1.5-.1 1.1-.7 1.2-.5.2-1.1-.1-1.3-.6C15.1 5.4 13.2 4 11 4 8.2 4 6 6.2 6 9c0 .6-.4 1-1 1z\"></path>\r\n      <path d=\"M18 18c-.6 0-1-.4-1-1s.4-1 1-1c2.2 0 4-1.8 4-4s-1.8-4-4-4c-.3 0-.7 0-1 .1-.5.1-1.1-.2-1.2-.7s.2-1.1.7-1.2c.5-.1 1-.2 1.5-.2 3.3 0 6 2.7 6 6s-2.7 6-6 6zM8 18H5c-.6 0-1-.4-1-1s.4-1 1-1h3c.6 0 1 .4 1 1s-.4 1-1 1z\"></path>\r\n      <path d=\"M18 18h-2c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1s-.4 1-1 1zM5 18c-2.8 0-5-2.2-5-5s2.2-5 5-5c.6 0 1 .4 1 1s-.4 1-1 1c-1.7 0-3 1.3-3 3s1.3 3 3 3c.6 0 1 .4 1 1s-.4 1-1 1zm7 4c-.6 0-1-.4-1-1V11c0-.6.4-1 1-1s1 .4 1 1v10c0 .6-.4 1-1 1z\"></path>\r\n      <path d=\"M9 15c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l3-3c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-3 3c-.2.2-.4.3-.7.3z\"></path>\r\n      <path d=\"M15 15c-.3 0-.5-.1-.7-.3l-3-3c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l3 3c.4.4.4 1 0 1.4-.2.2-.4.3-.7.3z\"></path>\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default UploadSvg\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport UploadSvg from \"../Svgs/UploadSvg\";\r\n\r\nconst ImgUploader = ({ setFile }) => {\r\n  const inputRef = useRef(null);\r\n  const previewImg = useRef(null);\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [imageHeight, setImageHeight] = useState(null);\r\n\r\n  const selectfile = () => {\r\n    inputRef.current.click();\r\n  };\r\n  const getImageHeight = () => {\r\n    const height = previewImg.current.offsetHeight;\r\n    setImageHeight(height);\r\n    // console.log(height);\r\n  };\r\n  \r\n  const onDrop = (event) => {\r\n    event.preventDefault();\r\n    const file = event.dataTransfer.files[0];\r\n    if (file.type.startsWith(\"image/\")) {\r\n     \r\n      setFile(file);\r\n      setSelectedFile(file);\r\n      console.log(\"drop\", file);\r\n    } else{\r\n      setFile(null);\r\n      setSelectedFile(null);\r\n      console.log('dropped file is not image');\r\n\r\n    }\r\n  };\r\n  const onDragOver = (event) => {\r\n    event.preventDefault();\r\n    console.log(\"dragover\");\r\n  };\r\n  //   useEffect(() => {\r\n  //     // console.log(selectedFile);\r\n  //   }, [selectedFile]);\r\n  return (\r\n    <>\r\n      <div\r\n        className={`img-Uploader bg-[#e9e9e9]  w-[23rem] max-sm:w-auto ${\r\n          imageHeight && selectedFile\r\n            ? `h-[${imageHeight}]`\r\n            : \"h-[27rem] max-sm:h-[22rem]\"\r\n        }  rounded-3xl border-dashed border-[#dadada]  hover:border-[#929292] border-2 cursor-pointer overflow-hidden relative`}\r\n        onClick={selectfile}\r\n        onDrop={onDrop}\r\n        onDragOver={onDragOver}\r\n      >\r\n        <div className=\"flex items-center flex-col justify-center h-full pointer-events-none \">\r\n          {selectedFile ? (\r\n            <img\r\n              className=\" w-full \"\r\n              ref={previewImg}\r\n              src={URL.createObjectURL(selectedFile)}\r\n              alt=\"upload-img-preview\"\r\n              onLoad={getImageHeight}\r\n            />\r\n          ) : (\r\n            <>\r\n              <UploadSvg width={25} />\r\n              <h3 className=\"pointer-events-none text-center break-words  max-w-[220px]\">\r\n                Choose a file or drag and drop it here\r\n              </h3>\r\n            </>\r\n          )}\r\n        </div>\r\n        {selectedFile && (\r\n          <div className=\"flex justify-center items-center flex-col w-full h-full z-20 bg-[#ffffff8f] absolute opacity-0  hover:opacity-100 top-0\">\r\n            <UploadSvg width={25} />\r\n            <h3 className=\"pointer-events-none text-center break-words  max-w-[220px] font-medium\">\r\n              Choose Another\r\n            </h3>\r\n          </div>\r\n        )}\r\n        <input\r\n          type=\"file\"\r\n          accept=\"image/*\"\r\n          name=\"upload_file\"\r\n          onChange={(e) => {\r\n            setSelectedFile(e.target.files[0]);\r\n            setFile(e.target.files[0]);\r\n          }}\r\n          hidden\r\n          ref={inputRef}\r\n          multiple={false}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ImgUploader;\r\n","import React from \"react\";\r\n\r\nconst ErrorSvg = ({height}) => {\r\n  return (\r\n    <>\r\n      <svg height={height} viewBox=\"0 0 32 32\" id=\"error\">\r\n        <path\r\n          d=\"M16 32c8.836 0 16-7.164 16-16S24.836 0 16 0 0 7.164 0 16s7.164 16 16 16zm2-14a2 2 0 0 1-4 0V8a2 2 0 0 1 4 0v10zm-2 3.968a2 2 0 1 1-.001 4.001A2 2 0 0 1 16 21.968z\"\r\n          fill=\"#d93025\"\r\n        ></path>\r\n      </svg>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ErrorSvg;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./Create.scss\";\r\nimport ImgUploader from \"../../components/ImgUploader/ImgUploader\";\r\nimport ErrorSvg from \"../../components/Svgs/ErrorSvg\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport InputField from \"../../components/Inputs/InputField\";\r\nimport toast from \"react-hot-toast\";\r\n\r\nconst Create = () => {\r\n  const [file, setFile] = useState(null);\r\n  const [fileMetadata, setFileMetaData] = useState({\r\n    pinTitle: \"\",\r\n    pinDescription: \"\",\r\n  });\r\n  const [errorMsg, setErrorMsg] = useState();\r\n  const navigate = useNavigate();\r\n  const [underUpload, setUnderUpload] = useState(false);\r\n  const container = useRef();\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFileMetaData((prevData) => ({\r\n      ...prevData,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const uploadHandler = async () => {\r\n    try {\r\n      setUnderUpload(true);\r\n      if (!file) {\r\n        setErrorMsg(\"Please select a file.\");\r\n        return;\r\n      }\r\n\r\n      if (!fileMetadata.pinTitle || !fileMetadata.pinDescription) {\r\n        setErrorMsg(\"Title and Description are required.\");\r\n        return;\r\n      }\r\n      const formData = new FormData();\r\n      // console.log(formData);\r\n\r\n      //appendin img file\r\n      formData.append(\"upload_file\", file);\r\n\r\n      //appending image meta data or additionals\r\n      formData.append(\"pinTitle\", fileMetadata.pinTitle);\r\n      formData.append(\"pinDescription\", fileMetadata.pinDescription);\r\n\r\n      const response = await axios.post(\"image/upload\", formData);\r\n      // const resJson = await response.json();\r\n\r\n      if (response.status === 200) {\r\n        // console.log(\"Upload.js\", resJson);\r\n        console.log(response.data.message);\r\n        toast.success('post created successfully')\r\n        navigate(\"/\");\r\n      } else {\r\n        toast.error('post creation failed: please check your connection')\r\n        console.log(response.data.message);\r\n      }\r\n    } catch (error) {\r\n      toast.error(\"Oops! Something went wrong.\");\r\n      console.log(\"Failed to upload\", error);\r\n    } finally {\r\n      setUnderUpload(false);\r\n    }\r\n  };\r\n  const preventDefault = (event) => {\r\n    event.preventDefault();\r\n    // console.log(\"checking\");\r\n  };\r\n  useEffect(() => {\r\n    // console.log(file);\r\n    // console.log(fileMetadata);\r\n    console.log(underUpload);\r\n  }, [underUpload]);\r\n\r\n  return (\r\n    <div\r\n      className=\"w-full bg-slate-50  create-wrapper minus-nav-100vh flex flex-col\"\r\n      ref={container}\r\n      onDrop={preventDefault}\r\n      onDragOver={preventDefault}\r\n    >\r\n      <div className=\"pin-creator bg-white  rounded-2xl  mx-auto max-sm:mx-0 mt-12 max-sm:mt-0 max-sm:w-full max-sm:h-auto pb-20 max-sm:flex max-sm:flex-col max-sm:rounded-none\">\r\n        {/* <FileUpload/> */}\r\n        <div className=\"pin-form  m-12 max-sm:m-5 flex gap-10 max-sm:gap-5 max-sm:flex-col \">\r\n          <div className=\"upload-field\">\r\n            <ImgUploader setFile={(selectedFile) => setFile(selectedFile)} />\r\n          </div>\r\n          <div className=\"pin-detls-inputs mt-1 w-[36rem] max-sm:w-auto gap-6 flex flex-col max-sm:gap-3\">\r\n            {/* <label\r\n              htmlFor=\"pinTitle\"\r\n              className=\"flex flex-col text-[#111111] text-sm gap-2\"\r\n            >\r\n              Title\r\n              <input\r\n                type=\"text\"\r\n                name=\"pinTitle\"\r\n                id=\"pinTitle\"\r\n                className=\"border-2 border-[#cdcdcd] text-base px-4 py-2 rounded-xl\"\r\n                onChange={handleChange}\r\n                // disabled\r\n              />\r\n            </label> */}\r\n            <InputField\r\n              name={\"pinTitle\"}\r\n              id={\"pinTitle\"}\r\n              handleChange={handleChange}\r\n              label={\"Title\"}\r\n            />\r\n            <label\r\n              htmlFor=\"pinDesc\"\r\n              className=\"flex flex-col text-[#111111] text-sm gap-2\"\r\n            >\r\n              Description\r\n              <textarea\r\n                type=\"text\"\r\n                name=\"pinDescription\"\r\n                id=\"pinDesc\"\r\n                rows={6}\r\n                className=\"border-2 border-[#cdcdcd] text-base px-4 py-2 rounded-xl resize-none \"\r\n                onChange={handleChange}\r\n              />\r\n            </label>\r\n            <div className=\"pin-prime-btn flex\">\r\n              <button disabled={underUpload} onClick={uploadHandler}>\r\n                Publish\r\n              </button>\r\n            </div>\r\n            {errorMsg && (\r\n              <div className=\"text-[#d93025] text-sm flex items-center gap-2 mx-1\">\r\n                <ErrorSvg height={15} /> {errorMsg}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    // <div >\r\n    //   <input\r\n    //     type=\"file\"\r\n    //     name=\"upload_file\"\r\n    //     onChange={(e) => setFile(e.target.files[0])}\r\n    //   />\r\n    //   <button onClick={uploadHandler}>upload</button>\r\n    // </div>\r\n  );\r\n};\r\n\r\nexport default Create;\r\n"],"names":["_ref","width","_jsxs","viewBox","id","children","_jsx","d","setFile","inputRef","useRef","previewImg","selectedFile","setSelectedFile","useState","imageHeight","setImageHeight","_Fragment","className","concat","onClick","selectfile","current","click","onDrop","event","preventDefault","file","dataTransfer","files","type","startsWith","console","log","onDragOver","ref","src","URL","createObjectURL","alt","onLoad","getImageHeight","height","offsetHeight","UploadSvg","accept","name","onChange","e","target","hidden","multiple","fill","Create","fileMetadata","setFileMetaData","pinTitle","pinDescription","errorMsg","setErrorMsg","navigate","useNavigate","underUpload","setUnderUpload","container","handleChange","value","prevData","useEffect","ImgUploader","InputField","label","htmlFor","rows","disabled","async","formData","FormData","append","response","axios","post","status","data","message","toast","success","error","ErrorSvg"],"sourceRoot":""}