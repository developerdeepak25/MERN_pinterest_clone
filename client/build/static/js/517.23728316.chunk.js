"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[517],{599:(e,s,t)=>{t.d(s,{Z:()=>h});t(791);var l=t(87),a=t(943),o=t(184);const c=e=>{let{className:s}=e;return(0,o.jsx)("svg",{viewBox:"0 0 26 26",className:s,children:(0,o.jsx)("path",{d:"M 11 -0.03125 C 10.164063 -0.03125 9.34375 0.132813 8.75 0.71875 C 8.15625 1.304688 7.96875 2.136719 7.96875 3 L 4 3 C 3.449219 3 3 3.449219 3 4 L 2 4 L 2 6 L 24 6 L 24 4 L 23 4 C 23 3.449219 22.550781 3 22 3 L 18.03125 3 C 18.03125 2.136719 17.84375 1.304688 17.25 0.71875 C 16.65625 0.132813 15.835938 -0.03125 15 -0.03125 Z M 11 2.03125 L 15 2.03125 C 15.546875 2.03125 15.71875 2.160156 15.78125 2.21875 C 15.84375 2.277344 15.96875 2.441406 15.96875 3 L 10.03125 3 C 10.03125 2.441406 10.15625 2.277344 10.21875 2.21875 C 10.28125 2.160156 10.453125 2.03125 11 2.03125 Z M 4 7 L 4 23 C 4 24.652344 5.347656 26 7 26 L 19 26 C 20.652344 26 22 24.652344 22 23 L 22 7 Z M 8 10 L 10 10 L 10 22 L 8 22 Z M 12 10 L 14 10 L 14 22 L 12 22 Z M 16 10 L 18 10 L 18 22 L 16 22 Z",fill:"#d93025"})})};var n=t(294),i=t(420),r=t(688),d=t(402);const m=e=>{let{id:s}=e;const t=(0,i.I0)();return(0,o.jsx)("div",{className:"delete-btn-wrapper pointer-events-auto cursor-pointer bg-slate-200 hover:bg-slate-300 rounded-md  shrink-0",children:(0,o.jsx)("div",{className:" h-[28px] p-[6px]",onClick:e=>{(async e=>{e.stopPropagation(),console.log("inside deletePost function");try{const e=await n.Z.delete("/image/deletepost/".concat(s));console.log("\ud83d\ude80 ~ file: Home.js:10 ~ getDataFromServer ~ resData:",e),200===e.status&&(t((0,r.O9)(s)),d.ZP.success("post deleted successfully"),console.log("post deleted successfully"))}catch(l){console.log(l)}})(e)},children:(0,o.jsx)(c,{className:" h-full"})})})};var u=t(687);const h=e=>{let{data:s,userInfo:c,type:n}=e;const{_id:i,image:r,imageTitle:d,user:h}=s;console.log("\ud83d\ude80 ~ file: Post.js:7 ~ Post ~ _id:",i);const p=(null===c||void 0===c?void 0:c.username)||(null===h||void 0===h?void 0:h.username),x=(null===c||void 0===c?void 0:c.userPic)||(null===h||void 0===h?void 0:h.userPic);return console.log(p,s),(0,o.jsxs)("div",{className:"post-container rounded-xl overflow-hidden mb-4 relative max-sm:mb-2",children:[(0,o.jsx)(l.OL,{to:"/pin/".concat(i),className:"relative ",children:(0,o.jsx)(a.Z,{className:"w-full",src:"/uploads/".concat(r),fileName:r,alt:d,height:360})}),(0,o.jsx)("div",{className:"creator-container h-full absolute top-0 left-0 right-0 pointer-events-none ",children:(0,o.jsx)("div",{className:"absolute top-0 left-0 right-0 bottom-0 p-4 flex flex-col max-sm:p-2",children:(0,o.jsxs)("div",{className:"creator-profile flex  w-full mt-auto  items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex gap-2 items-center w-full  ".concat("user-post"===n?"max-w-[80%]":""),children:[(0,o.jsx)("div",{className:"creator-image rounded-full w-7 aspect-square overflow-hidden opacity-80 shrink-0",children:x?(0,o.jsx)(u.Z,{src:"/pic_uploads/".concat(x),alt:p+"picture"}):(0,o.jsx)(u.Z,{src:t(36),alt:p+"picture",className:"w-full"})}),(0,o.jsx)("div",{className:" creator-name text-white opacity-80  capitalize whitespace-nowrap overflow-hidden text-ellipsis",children:p})]}),"user-post"===n&&(0,o.jsx)(m,{id:i})]})})})]})}},138:(e,s,t)=>{t.d(s,{Z:()=>a});t(791);var l=t(184);const a=e=>{let{children:s,postsCount:t,fallback:a}=e;return(0,l.jsx)(l.Fragment,{children:t>0?(0,l.jsx)("div",{className:"xl:columns-5 lg:columns-4 md:columns-3 sm:columns-2 sm:mx-auto xl:w-[1240px] lg:w-[900px] md:w-[700px] sm:w-[600px]  columns-2 mx-3 mb-20 max-sm:gap-2",children:s}):(0,l.jsx)("div",{className:"flex justify-center",children:a})})}},943:(e,s,t)=>{t.d(s,{Z:()=>c});var l=t(791),a=t(184);const o=e=>{let{height:s=350}=e;return(0,a.jsx)("div",{className:"  w-full shimmer-bg",style:{height:s+"px"}})},c=e=>{let{src:s,height:t,alt:c,className:n,fileName:i}=e;const[r,d]=(0,l.useState)(!0);return(0,l.useEffect)((()=>{console.log(r)}),[r]),(0,a.jsxs)("div",{children:[r&&(0,a.jsx)(o,{height:t}),i&&s&&(0,a.jsx)("img",{src:s,alt:c,onLoad:()=>{d(!1)},className:"".concat(n,"  ").concat(r?"h-0":"h-auto")})]})}},517:(e,s,t)=>{t.r(s),t.d(s,{default:()=>i});var l=t(294),a=t(791),o=t(599),c=t(138),n=t(184);const i=()=>{const[e,s]=(0,a.useState)([]);return(0,a.useEffect)((()=>{(async()=>{try{const e=await l.Z.get("/image/getalldata");console.log("\ud83d\ude80 ~ file: Home.js:10 ~ getDataFromServer ~ resData:",e);const{posts:t}=e.data;t&&s(t),console.log(t)}catch(e){console.log(e)}})()}),[]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"posts-container pt-8 minus-nav-100vh max-sm:pt-3",children:(0,n.jsxs)(c.Z,{postsCount:e.length,fallback:"Nothing to see yet.",children:[" ",e&&e.map(((e,s)=>(0,n.jsx)(o.Z,{data:e},s)))]})})})}}}]);
//# sourceMappingURL=517.23728316.chunk.js.map