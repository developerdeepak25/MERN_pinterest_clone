"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[125],{125:(e,s,t)=>{t.r(s),t.d(s,{default:()=>p});var l=t(791),a=t(294),c=t(184);const i=e=>{let{height:s}=e;return(0,c.jsx)("svg",{height:s,viewBox:"0 0 16 16",id:"edit",children:(0,c.jsx)("path",{fill:"#212121",d:"M13.6568542,2.34314575 C14.4379028,3.12419433 14.4379028,4.39052429 13.6568542,5.17157288 L6.27039414,12.558033 C5.94999708,12.87843 5.54854738,13.105727 5.10896625,13.2156223 L2.81796695,13.7883721 C2.45177672,13.8799197 2.12008033,13.5482233 2.21162789,13.182033 L2.78437771,10.8910338 C2.894273,10.4514526 3.12156995,10.0500029 3.44196701,9.72960586 L10.8284271,2.34314575 C11.6094757,1.56209717 12.8758057,1.56209717 13.6568542,2.34314575 Z M10.1212441,4.46435931 L4.14907379,10.4367126 C3.95683556,10.6289509 3.82045738,10.8698207 3.75452021,11.1335694 L3.38388341,12.6161166 L4.86643062,12.2454798 C5.1301793,12.1795426 5.37104912,12.0431644 5.56328736,11.8509262 L11.5352441,5.87835931 L10.1212441,4.46435931 Z M11.5355339,3.05025253 L10.8282441,3.75735931 L12.2422441,5.17135931 L12.9497475,4.46446609 C13.3402718,4.0739418 13.3402718,3.44077682 12.9497475,3.05025253 C12.5592232,2.65972824 11.9260582,2.65972824 11.5355339,3.05025253 Z"})})};var o=t(420),n=t(688);const r=e=>{let{setTempPic:s}=e;const t=(0,o.v9)((e=>e.User));console.log("\ud83d\ude80 ~ file: UserPicUploader.js:11 ~ constst\u0325ate=useSelector ~ st\u0325ate:",t);const r=(0,o.I0)(),d=(0,l.useRef)(null);return(0,c.jsxs)("div",{className:"w-8 aspect-square z-20 rounded-full bg-gray-100 hover:bg-gray-200 grid place-content-center ",onClick:()=>{d.current.click()},children:[(0,c.jsx)(i,{height:18}),(0,c.jsx)("input",{type:"file",accept:"image/*",name:"upload_pic_file",onChange:e=>{(async e=>{const s=e.target.files[0];console.log(s);try{const e=new FormData;e.append("upload_pic_file",s);const t=await a.Z.post("/image/uploaduserpic",e);200===t.status&&(t.data.userPic&&(console.log(t.data.userPic),r((0,n.xq)({userPic:t.data.userPic}))),console.log(t.data)),console.log(t.data.message)}catch(t){console.log("Failed to upload",t)}})(e),s(e.target.files[0])},hidden:!0,ref:d,multiple:!1})]})};var d=t(687),u=t(87),h=t(689);const p=()=>{const[e,s]=(0,l.useState)(null),i=(0,o.I0)(),{username:p,posts:m,savedPosts:f,userPic:g}=(0,o.v9)((e=>e.User));return(0,l.useEffect)((()=>{(async()=>{try{await a.Z.get("/image/getuserposts").then((e=>{const{data:s}=e.data,{posts:t}=s;console.log("user info from Db",s),i((0,n.lv)(t))})).catch((e=>{console.log(e)}))}catch(e){console.log(e)}})()}),[i]),(0,l.useEffect)((()=>{(async()=>{try{await a.Z.get("/image/getsavedposts").then((e=>{const{data:s}=e.data;i((0,n.uB)(s))})).catch((e=>{console.log(e)}))}catch(e){console.log(e)}})()}),[i]),(0,l.useEffect)((()=>{console.log(e)}),[e]),(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"user_profile minus-nav-100vh",children:[(0,c.jsxs)("div",{className:"profile-header flex flex-col items-center pt-10",children:[(0,c.jsxs)("div",{className:"relative profile-pic-main mb-5",children:[(0,c.jsx)("div",{className:"  w-32 aspect-square rounded-full overflow-hidden flex justify-center",children:e?(0,c.jsx)(d.Z,{src:URL.createObjectURL(e),alt:"pic"}):(0,c.jsx)(d.Z,{src:g?"/pic_uploads/".concat(g):t(36),alt:"pic"})}),(0,c.jsx)("div",{className:"absolute bottom-0 right-1",children:(0,c.jsx)(r,{setTempPic:e=>s(e)})})]}),(0,c.jsx)("div",{className:"profile-username mt-4",children:(0,c.jsx)("h1",{className:" capitalize  text-4xl font-semibold",children:p})}),(0,c.jsxs)("div",{className:"profile-activity mt-2 flex flex-col gap-1 items-center",children:[(0,c.jsxs)("div",{className:"create-count",children:[null===m||void 0===m?void 0:m.length," created"]}),(0,c.jsxs)("div",{className:"saved-count ",children:[null===f||void 0===f?void 0:f.length," saved"]})," "]})]}),(0,c.jsx)("div",{className:"profile-pins mt-8",children:(0,c.jsxs)("div",{className:"flex flex-col items-center",children:[(0,c.jsxs)("div",{className:"categpry-selector flex",children:[(0,c.jsx)(u.OL,{to:"saved",children:(0,c.jsx)("h3",{className:"font-semibold p-2 catgry-link relative ",children:"saved"})}),(0,c.jsx)(u.OL,{to:"created",children:(0,c.jsx)("h3",{className:"font-semibold p-2 catgry-link relative ",children:"created"})})]}),(0,c.jsx)("div",{className:"user-posts-container mt-16",children:(0,c.jsx)(h.j3,{})})]})})]})})}}}]);
//# sourceMappingURL=125.849aa06e.chunk.js.map